<div class="gf-form-group">
    <h3 class="page-heading">HTTP</h3>
    <div class="gf-form-group">
        <div class="gf-form-inline">
            <div class="gf-form max-width-30">
                <span class="gf-form-label width-7">URL</span>
                <input class="gf-form-input" type="text"
                       ng-model='ctrl.current.url' placeholder="{{suggestUrl}}"
                       ng-change='ctrl.current.jsonData.url=ctrl.current.url'
                       bs-typeahead="getSuggestUrls" min-length="0"
                       ng-pattern="/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/"
                       required></input>
                <info-popover mode="right-absolute">
                    <p>Specify the HTTP URL (for example http://your_server:8080)</p>
                    <span ng-show="ctrl.current.access === 'direct'">
            Your access method is <em>Direct</em>, this means the URL
            needs to be accessible from the browser.
          </span>
                    <span ng-show="ctrl.current.access === 'proxy'">
            Your access method is currently <em>Proxy</em>, this means the URL
            needs to be accessible from the grafana backend.
          </span>
                </info-popover>
            </div>
        </div>

        <div class="gf-form-inline">
            <div class="gf-form max-width-30">
                <span class="gf-form-label width-7">Access</span>
                <div class="gf-form-select-wrapper gf-form-select-wrapper--has-help-icon max-width-24">
                    <select class="gf-form-input" ng-model="ctrl.current.access"
                            ng-options="f for f in ['direct', 'proxy']"></select>
                    <info-popover mode="right-absolute">
                        Direct = URL is used directly from browser<br>
                        Proxy = Grafana backend will proxy the request
                    </info-popover>
                </div>
            </div>
        </div>
    </div>
</div>


<h3 class="page-heading">Config</h3>
<div class="gf-form-group">
    <div class="gf-form max-width-14">
        <gf-form-switch class="gf-form" label="View complex query parts" label-class="width-14"
                        checked="ctrl.current.jsonData.parseQueries"></gf-form-switch>
        <info-popover mode="right-absolute">
            Enable the ability to view split up complex query parts
        </info-popover>
    </div>
</div>

<div ng-if="ctrl.current.access === 'proxy'">
    <h3 class="page-heading">Scalyr API Tokens</h3>
    <div class="gf-form-group">
        <div class="gf-form">
            <label class="gf-form-label width-13">Read key</label>
            <label class="gf-form-label width-13" ng-show="ctrl.readKeyExist">Configured</label>
            <a class="btn btn-secondary gf-form-btn" type="submit" ng-click="ctrl.resetReadKey()"
               ng-show="ctrl.readKeyExist">Reset</a>
            <input type="text" class="gf-form-input max-width-18" ng-hide="ctrl.readKeyExist"
                   ng-model='ctrl.current.secureJsonData.readtoken'></input>
        </div>
        <div class="gf-form">
            <label class="gf-form-label width-13">Write key</label>
            <label class="gf-form-label width-13" ng-show="ctrl.writeKeyExist">Configured</label>
            <a class="btn btn-secondary gf-form-btn" type="submit" ng-click="ctrl.resetWriteKey()"
               ng-show="ctrl.writeKeyExist">Reset</a>
            <input type="text" class="gf-form-input max-width-18" ng-hide="ctrl.writeKeyExist"
                   ng-model='ctrl.current.secureJsonData.writetoken'></input>
        </div>
    </div>
</div>